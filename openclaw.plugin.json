{
  "id": "dingtalk",
  "channels": ["dingtalk"],
  "configSchema": {
    "type": "object",
    "additionalProperties": true,
    "properties": {
      "enabled": {
        "type": "boolean",
        "default": true
      },
      "clientId": {
        "type": "string",
        "title": "Client ID (AppKey)"
      },
      "clientSecret": {
        "type": "string",
        "title": "Client Secret"
      },
      "robotCode": {
        "type": "string",
        "title": "Robot Code"
      },
      "corpId": {
        "type": "string",
        "title": "Corp ID"
      },
      "agentId": {
        "type": ["string", "number"],
        "title": "Agent ID"
      },
      "dmPolicy": {
        "type": "string",
        "enum": ["open", "pairing", "allowlist"],
        "default": "open"
      },
      "groupPolicy": {
        "type": "string",
        "enum": ["open", "allowlist"],
        "default": "open"
      },
      "allowFrom": {
        "type": "array",
        "items": {
          "type": "string"
        }
      },
      "showThinking": {
        "type": "boolean",
        "default": true
      },
      "debug": {
        "type": "boolean",
        "default": false
      },
      "messageType": {
        "type": "string",
        "enum": ["text", "markdown", "card"],
        "default": "markdown"
      },
      "cardTemplateId": {
        "type": "string",
        "default": "StandardCard"
      },
      "cardSendApiUrl": {
        "type": "string",
        "default": "https://api.dingtalk.com/v1.0/im/v1.0/robot/interactiveCards/send"
      },
      "cardUpdateApiUrl": {
        "type": "string",
        "default": "https://api.dingtalk.com/v1.0/im/robots/interactiveCards"
      },
      "accounts": {
        "type": "object",
        "additionalProperties": true
      }
    }
  }
}
